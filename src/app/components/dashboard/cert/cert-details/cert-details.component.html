<h3>Details for cert: {{certNumber}}</h3>
<form aria-labelledby="title">

  <div class="form-control-group">
    <label class="label" for="input-username">Serial number:</label>
    <input nbInput fullWidth
           [(ngModel)]="certNumber"
           name="serialNumber"
           id="input-username"
           disabled/>
  </div>

  <div class="form-control-group" *ngIf="certDetails != null">
    <label class="label" for="input-owner">Owner:</label>
    <input nbInput fullWidth
           [(ngModel)]="certDetails.owner"
           name="owner"
           id="input-owner"
           disabled/>
  </div>

  <div class="form-control-group" *ngIf="certDetails != null">
    <label class="label" for="input-issue">Issued at:</label>
    <input nbInput fullWidth
           [ngModel]="certDetails.issuedTimestamp *1000 | date: 'yyyy-MM-dd HH:mm:ss'"
           name="issue"
           id="input-issue"
           disabled/>
  </div>

  <div class="form-control-group" *ngIf="certDetails != null">
    <label class="label" for="input-expire">Expired at:</label>
    <input nbInput fullWidth
           [ngModel]="certDetails.expiredTimestamp *1000 | date: 'yyyy-MM-dd HH:mm:ss'"
           name="expire"
           id="input-expire"
           disabled/>
  </div>

  <div class="form-control-group">
    <label class="label" for="input-status">New status:</label>
    <nb-select fullWidth
               [(selected)]="newStatus"
               id="input-status"
               [status]="newStatus !== certDetails?.status ? 'success' : 'basic'">
      <nb-option *ngFor="let s of statusList" [value]="s">{{s}}</nb-option>
    </nb-select>
  </div>

  <div style="margin-top: 1rem">
    <button nbButton
            fullWidth
            status="success"
            (click)="applyChanges()">
      Apply changes
    </button>
  </div>

  <div style="margin-top: 1rem">
    <button nbButton
            fullWidth
            status="danger"
            (click)="deleteCert()">
      Delete cert
    </button>
  </div>
</form>
